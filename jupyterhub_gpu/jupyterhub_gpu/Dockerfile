FROM nvidia/cuda:12.6.2-cudnn-runtime-ubuntu24.04
RUN apt-get update && apt-get install -y curl && ln -snf /usr/share/zoneinfo/$(curl https://ipapi.co/timezone) /etc/localtime && apt-get install -y jupyterhub && apt-get install python3-pip -y && apt-get remove -y python3-traitlets && apt-get remove -y python3-jsonschema && pip install jupyterlab --break-system-packages && apt-get install -y jupyterhub && pip install tensorflow --break-system-packages && pip install torch torchvision torchaudio --break-system-packages && apt-get install -y wget && apt-get install -y python3-wget && apt-get install -y python3-pandas && apt-get install -y python3-sklearn && pip install transformers --break-system-packages && apt-get install -y python3-numpy && apt-get install -y python3-matplotlib && apt-get install -y python3-nltk && pip install spacy==3.7.5 --break-system-packages && apt-get install -y python3-seaborn && apt-get install unzip -y && apt-get install npm nodejs -y && npm install -g configurable-http-proxy && jupyterhub --generate-config && echo "c.Authenticator.allow_all = True" >> jupyterhub_config.py && apt-get install sudo -y && apt-get install vim -y && apt-get install htop -y && apt-get install net-tools -y && apt-get install git -y && apt-get install -y python3-ipywidgets && pip install git+https://github.com/xzkostyan/clickhouse-sqlalchemy --break-system-packages && pip install clickhouse-driver --break-system-packages && pip uninstall sqlalchemy --break-system-packages -y && apt-get remove -y python3-sqlalchemy && apt-get install -y python3-sqlalchemy && apt-get install -y jupyterhub
